generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model admin {
  id       Int    @id @default(autoincrement())
  passcode String
}

model effect_tag_deps {
  id                                       Int  @id @default(autoincrement())
  form_tag_id                              Int
  effect_tag_id                            Int
  tags_effect_tag_deps_effect_tag_idTotags tags @relation("effect_tag_deps_effect_tag_idTotags", fields: [effect_tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  tags_effect_tag_deps_form_tag_idTotags   tags @relation("effect_tag_deps_form_tag_idTotags", fields: [form_tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model explainers {
  id               Int                @id @default(autoincrement())
  title            String
  text             String
  stage            Int
  dependency       Int?
  dependency_type  String?
  explainer_blocks explainer_blocks[]
}

model tags {
  id                                                  Int               @id @default(autoincrement())
  name                                                String
  is_form                                             Int
  cost_value                                          Int?
  cost_takes_all                                      Int
  min_rarity_id                                       Int
  description                                         String
  item_name                                           String
  tool_id                                             Int
  effect_tag_deps_effect_tag_deps_effect_tag_idTotags effect_tag_deps[] @relation("effect_tag_deps_effect_tag_idTotags")
  effect_tag_deps_effect_tag_deps_form_tag_idTotags   effect_tag_deps[] @relation("effect_tag_deps_form_tag_idTotags")
  images                                              images[]
  tools                                               tools             @relation(fields: [tool_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model tier_info {
  id      Int    @id @default(autoincrement())
  ip_cost Int
  dc_min  Int
  dc_max  Int?
  time    Int
  color   String
  tags    Int
  name    String @default("Placeholder")
}

model tools {
  id    Int     @id @default(autoincrement())
  name  String
  emoji String?
  tags  tags[]
}

model images {
  id           Int    @id @default(autoincrement())
  url          String
  rarity_index Int
  form_tag_id  Int
  tags         tags   @relation(fields: [form_tag_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model explainer_blocks {
  id           Int        @id @default(autoincrement())
  content      String
  explainer_id Int
  type         String
  explainers   explainers @relation(fields: [explainer_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}
